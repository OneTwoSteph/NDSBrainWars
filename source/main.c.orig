/*
 * main.c
 *
 *  Created on: Dec 27, 2014
 *    Original: Template Nintendo DS (May 2011)
 * Modified by: Stephanie Amati & Nawaaz GS
 *
 */

#include <nds.h>
<<<<<<< HEAD
#include "brainwars.h"
=======
#include <stdio.h>
#include <time.h>
#include "general.h"
#include "brainwars.h"
#include "path.h"
#include "jankenpon.h"
#include "leader.h"
>>>>>>> 73360ba1990ebf750e08ff9db84db609aa30961f

int main(void) {
	// Initialize console
    consoleDemoInit();

    // Initialize game
    brainwars_init();
<<<<<<< HEAD
=======

    srand(time(NULL));

    STATE state;
    state = TRAIN;

    GAME game;
    game = NOGAME;

    bool gamestate;
>>>>>>> 73360ba1990ebf750e08ff9db84db609aa30961f

    // Game infinite loop
    while(1){
<<<<<<< HEAD
    	// Game
    	brainwars_main();
=======

    	// Check in which state the game is
    	switch(state){
    	case INIT:
    		break;
    	case TRAIN:
    		// Check in which game we are training
    		switch(game){
    		case NOGAME:
    			scanKeys();
    			u16 keys = (u16) keysDown();

    			if(keys & KEY_START){
    				//path_init();
    				//game = PATH;
    				//jankenpon_init();
    				//game = JANKENPON;
    				leader_init();
    				game = LEADER;
    			}
    			break;
    		case PATH:
    			gamestate = path_game();
    			if(!gamestate){
    				game = NOGAME;
    				path_reset();
    			}
    			break;
    		case JANKENPON:
    			break;
    		case LEADER:
    			gamestate = leader_game();
    			if(!gamestate){
    				game = NOGAME;
    				leader_reset();
    			}
    			break;
    		default:
    			break;
    		}
    		break;
    	case ONEP:
    		break;
    	default:
    		break;
    	}
>>>>>>> 73360ba1990ebf750e08ff9db84db609aa30961f

    	// Usual end of loop call
        swiWaitForVBlank();	
    }
}
